<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loi de Diffusion des Gaz + Quiz</title>
    
    <!-- React & ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    
    <!-- Babel pour le JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        /* Animation Styles personnalisés */
        @keyframes moveRight {
            0% { left: 20%; opacity: 1; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.1); }
            100% { left: 80%; opacity: 0; transform: scale(0.5); }
        }
        @keyframes moveLeft {
            0% { left: 80%; opacity: 1; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.1); }
            100% { left: 20%; opacity: 0; transform: scale(0.5); }
        }
        .animate-cross-right {
            animation: moveRight 2s ease-in-out forwards;
        }
        .animate-cross-left {
            animation: moveLeft 2s ease-in-out forwards;
        }
        
        /* Animation Fade In standard */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeIn {
            animation: fadeIn 0.5s ease-out forwards;
        }
        
        .writing-vertical-lr {
            writing-mode: vertical-lr;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 font-sans">

    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- Icônes (SVG Inline) ---
        const ArrowRight = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
        );
        const ArrowLeft = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m12 19-7-7 7-7"/><path d="M19 12H5"/></svg>
        );
        const RefreshCcw = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/><path d="M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"/><path d="M16 16h5v5"/></svg>
        );
        const Play = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="5 3 19 12 5 21 5 3"/></svg>
        );
        const Info = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>
        );
        const Wind = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2"/><path d="M9.6 4.6A2 2 0 1 1 11 8H2"/><path d="M12.6 19.4A2 2 0 1 0 14 16H2"/></svg>
        );
        const Activity = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
        );
        const CheckCircle = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
        );
        const XCircle = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg>
        );

        // --- Données du Quiz (Simplifiées pour 12 ans) ---
        const quizQuestions = [
            {
                id: 1,
                question: "Qu'est-ce qui fait bouger un gaz d'un côté à l'autre de la membrane ?",
                options: [
                    "Il bouge toujours vers le gaz le plus lourd.",
                    "La différence de quantité (pression) de ce gaz.",
                    "C'est la membrane qui le pousse."
                ],
                correctIndex: 1,
                explanation: "Le gaz bouge du côté où il est en plus grande quantité (haute pression partielle) vers le côté où il y en a moins (basse pression partielle)."
            },
            {
                id: 2,
                question: "Imaginez un côté avec 8 billes Rouges et l'autre avec 2. Dans quel sens les billes Rouges vont-elles aller ?",
                options: [
                    "Du côté 2 vers le côté 8.",
                    "Du côté 8 vers le côté 2.",
                    "Elles vont rester sur place."
                ],
                correctIndex: 1,
                explanation: "Le flux va toujours du plus concentré (8) vers le moins concentré (2)."
            },
            {
                id: 3,
                question: "La diffusion d'un gaz continue jusqu'à ce que :",
                options: [
                    "Le gaz soit complètement épuisé.",
                    "Il y ait le même nombre de molécules de gaz des deux côtés.",
                    "La membrane se bouche."
                ],
                correctIndex: 1,
                explanation: "Le mouvement s'arrête (au niveau du flux net) quand les quantités sont égales : c'est l'équilibre."
            },
            {
                id: 4,
                question: "Quel terme scientifique utilise-t-on pour parler de la 'force' du gaz qui le fait diffuser ?",
                options: [
                    "Tension atmosphérique",
                    "Poids moléculaire",
                    "Pression partielle"
                ],
                correctIndex: 2,
                explanation: "La 'pression partielle' est le nom donné à la quantité (ou la concentration) du gaz qui détermine la diffusion."
            },
            {
                id: 5, // Nouvelle question simplifiée
                question: "Dans notre simulation, les molécules de Dioxyde de carbone CO₂ sont représentées par quelle couleur ?",
                options: [
                    "Le Rouge",
                    "Le Bleu",
                    "Le Vert"
                ],
                correctIndex: 1,
                explanation: "Les molécules de Dioxyde de carbone CO₂ sont en Bleu, et le Dioxygène O₂ est en Rouge."
            }
        ];

        // --- Composants Logiques ---

        const Molecule = ({ type, animate }) => {
            const [pos, setPos] = useState({ top: Math.random() * 80 + 10, left: Math.random() * 80 + 10 });

            useEffect(() => {
                if (animate) {
                    const interval = setInterval(() => {
                        setPos({
                            top: Math.random() * 80 + 10,
                            left: Math.random() * 80 + 10
                        });
                    }, 2000);
                    return () => clearInterval(interval);
                }
            }, [animate]);

            // Dioxygène O₂ / Dioxyde de carbone CO₂
            const color = type === 'O2' ? 'bg-red-500' : 'bg-blue-500';
            const label = type === 'O2' ? 'O₂' : 'CO₂';

            return (
                <div 
                    className={`absolute w-8 h-8 rounded-full ${color} flex items-center justify-center text-white text-xs font-bold shadow-sm transition-all duration-[2000ms] ease-in-out z-10`}
                    style={{ top: `${pos.top}%`, left: `${pos.left}%` }}
                >
                    {label}
                </div>
            );
        };

        const CrossingMolecule = ({ type, direction, delay }) => {
            // Dioxygène O₂ / Dioxyde de carbone CO₂
            const color = type === 'O2' ? 'bg-red-500' : 'bg-blue-500';
            const label = type === 'O2' ? 'O₂' : 'CO₂';
            const animationClass = direction === 'right' ? 'animate-cross-right' : 'animate-cross-left';
            const topPos = Math.random() * 60 + 20; 

            return (
                <div 
                    className={`absolute w-8 h-8 rounded-full ${color} flex items-center justify-center text-white text-xs font-bold shadow-lg z-20 border-2 border-white ${animationClass}`}
                    style={{ 
                        top: `${topPos}%`, 
                        animationDelay: `${delay}ms`
                    }}
                >
                    {label}
                </div>
            );
        };

        const App = () => {
            // State global
            const [scenario, setScenario] = useState('intro'); 
            
            // State Simulation
            const [step, setStep] = useState('initial');
            const [counts, setCounts] = useState({ c1: 0, c2: 0 });

            // State Quiz
            const [currentQIndex, setCurrentQIndex] = useState(0);
            const [score, setScore] = useState(0);
            const [showResult, setShowResult] = useState(false);
            const [selectedOption, setSelectedOption] = useState(null);
            const [isAnswered, setIsAnswered] = useState(false);

            useEffect(() => {
                resetScenario(scenario);
            }, [scenario]);

            const resetScenario = (scen) => {
                setStep('initial');
                if (scen === 'o2') {
                    setCounts({ c1: 8, c2: 2 }); // Dioxygène O₂ : 8 vs 2
                } else if (scen === 'co2') {
                    setCounts({ c1: 2, c2: 8 }); // Dioxyde de carbone CO₂ : 2 vs 8
                } else if (scen === 'quiz') {
                    setCurrentQIndex(0);
                    setScore(0);
                    setShowResult(false);
                    setSelectedOption(null);
                    setIsAnswered(false);
                } else {
                    setCounts({ c1: 0, c2: 0 });
                }
            };

            const startDiffusion = () => {
                setStep('diffusing');
                setTimeout(() => {
                    setStep('equilibrium');
                    if (scenario === 'o2' || scenario === 'co2') {
                        setCounts({ c1: 5, c2: 5 });
                    }
                }, 2500);
            };

            // --- Logique Quiz ---
            const handleOptionClick = (index) => {
                if (isAnswered) return;
                
                setSelectedOption(index);
                setIsAnswered(true);
                
                if (index === quizQuestions[currentQIndex].correctIndex) {
                    setScore(prev => prev + 1);
                }
            };

            const nextQuestion = () => {
                if (currentQIndex < quizQuestions.length - 1) {
                    setCurrentQIndex(prev => prev + 1);
                    setSelectedOption(null);
                    setIsAnswered(false);
                } else {
                    setShowResult(true);
                }
            };

            const restartQuiz = () => {
                resetScenario('quiz');
            };

            // --- Renders ---
            const renderMolecules = (count, type) => {
                return Array.from({ length: count }).map((_, i) => (
                    <Molecule key={i} type={type} animate={step !== 'initial'} />
                ));
            };

            const renderCrossingMolecules = () => {
                if (step !== 'diffusing') return null;
                const type = scenario === 'o2' ? 'O2' : 'CO2';
                const direction = scenario === 'o2' ? 'right' : 'left';
                return (
                    <React.Fragment>
                        <CrossingMolecule type={type} direction={direction} delay={0} />
                        <CrossingMolecule type={type} direction={direction} delay={400} />
                        <CrossingMolecule type={type} direction={direction} delay={800} />
                    </React.Fragment>
                );
            };

            return (
                <div className="min-h-screen bg-slate-50 p-4 md:p-8">
                    <div className="max-w-4xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden">
                        
                        {/* Header */}
                        <div className="bg-indigo-600 p-6 text-white">
                            <h1 className="text-2xl md:text-3xl font-bold flex items-center gap-3">
                                <Wind size={32} />
                                La Loi de Diffusion des Gaz
                            </h1>
                        </div>

                        {/* Navigation Tabs */}
                        <div className="flex border-b bg-slate-100 overflow-x-auto">
                            <button 
                                onClick={() => setScenario('intro')}
                                className={`flex-1 min-w-[100px] p-4 font-semibold transition-colors ${scenario === 'intro' ? 'bg-white border-t-4 border-indigo-500 text-indigo-700' : 'text-slate-500 hover:bg-slate-200'}`}
                            >
                                1. Concept
                            </button>
                            <button 
                                onClick={() => setScenario('o2')}
                                className={`flex-1 min-w-[120px] p-4 font-semibold transition-colors ${scenario === 'o2' ? 'bg-white border-t-4 border-red-500 text-red-700' : 'text-slate-500 hover:bg-slate-200'}`}
                            >
                                2. Dioxygène O₂
                            </button>
                            <button 
                                onClick={() => setScenario('co2')}
                                className={`flex-1 min-w-[120px] p-4 font-semibold transition-colors ${scenario === 'co2' ? 'bg-white border-t-4 border-blue-500 text-blue-700' : 'text-slate-500 hover:bg-slate-200'}`}
                            >
                                3. Dioxyde de carbone CO₂
                            </button>
                            <button 
                                onClick={() => setScenario('quiz')}
                                className={`flex-1 min-w-[140px] p-4 font-bold transition-colors flex items-center justify-center gap-2 ${scenario === 'quiz' ? 'bg-white border-t-4 border-amber-500 text-amber-700' : 'text-slate-500 hover:bg-amber-50'}`}
                            >
                                <CheckCircle size={18} /> 4. Test QCM
                            </button>
                        </div>

                        {/* Main Content Area */}
                        <div className="p-6">
                            
                            {/* --- CONCEPT SECTION --- */}
                            {scenario === 'intro' && (
                                <div className="space-y-6 animate-fadeIn">
                                    <div className="bg-indigo-50 border-l-4 border-indigo-500 p-4 rounded-r">
                                        <h3 className="text-lg font-bold text-indigo-900">L'Énoncé de la Loi</h3>
                                        <p className="mt-2 text-indigo-800">
                                            Un gaz diffuse toujours du compartiment où sa <strong>pression partielle est la plus élevée</strong> vers celui où elle est <strong>la plus faible</strong>, jusqu'à atteindre l'équilibre.
                                        </p>
                                    </div>

                                    <div className="grid md:grid-cols-2 gap-6">
                                        <div className="bg-white p-4 rounded-lg border shadow-sm">
                                            <h4 className="font-bold flex items-center gap-2 mb-3">
                                                <Activity size={20} className="text-indigo-500"/> Pression Partielle
                                            </h4>
                                            <p className="text-sm text-slate-600">
                                                Plus il y a de molécules de gaz dissous dans un compartiment, plus sa <strong>pression partielle</strong> est élevée. C'est la "force" qui pousse le gaz à bouger.
                                            </p>
                                        </div>
                                        
                                        <div className="bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg border border-blue-200">
                                            <h4 className="font-bold text-blue-800 mb-2">L'Analogie du Fleuve</h4>
                                            <div className="relative h-24 w-full bg-blue-200 rounded-lg overflow-hidden mb-2">
                                                <div className="absolute top-0 left-0 w-full h-full bg-blue-500 opacity-20" style={{clipPath: 'polygon(0 0, 100% 80%, 100% 100%, 0% 100%)'}}></div>
                                                <div className="absolute top-2 left-2 text-xs font-bold text-blue-900">Haute Pression (Haut)</div>
                                                <div className="absolute bottom-2 right-2 text-xs font-bold text-blue-900">Basse Pression (Bas)</div>
                                                <div className="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-blue-600 animate-pulse">
                                                    <ArrowRight size={32} />
                                                </div>
                                            </div>
                                            <p className="text-xs text-blue-800 italic">
                                                Le gaz "s'écoule" naturellement de la zone de haute concentration vers la zone de faible concentration.
                                            </p>
                                        </div>
                                    </div>
                                    
                                    <div className="text-center mt-4">
                                        <button 
                                            onClick={() => setScenario('o2')}
                                            className="bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-full font-semibold transition-transform transform hover:scale-105"
                                        >
                                            Voir l'expérience Dioxygène O₂ &rarr;
                                        </button>
                                    </div>
                                </div>
                            )}

                            {/* --- SIMULATION SECTION (O2 & CO2) --- */}
                            {(scenario === 'o2' || scenario === 'co2') && (
                                <div className="animate-fadeIn">
                                    <div className="flex justify-between items-center mb-6 bg-slate-50 p-3 rounded-lg">
                                        <div>
                                            <h2 className="text-xl font-bold text-slate-700">
                                                {scenario === 'o2' ? 'Diffusion du Dioxygène O₂' : 'Diffusion du Dioxyde de carbone CO₂'}
                                            </h2>
                                            <p className="text-sm text-slate-500">
                                                État : <span className={`font-bold ${step === 'equilibrium' ? 'text-green-600' : 'text-amber-600'}`}>
                                                    {step === 'initial' ? 'Initial (Déséquilibre)' : step === 'diffusing' ? 'Diffusion en cours...' : 'Équilibre Atteint'}
                                                </span>
                                            </p>
                                        </div>
                                        <div className="flex gap-2">
                                            <button 
                                                onClick={startDiffusion}
                                                disabled={step !== 'initial'}
                                                className={`flex items-center gap-2 px-4 py-2 rounded shadow transition-all ${step === 'initial' ? 'bg-green-600 hover:bg-green-700 text-white' : 'bg-slate-300 text-slate-500 cursor-not-allowed'}`}
                                            >
                                                <Play size={18} /> Lancer
                                            </button>
                                            <button 
                                                onClick={() => resetScenario(scenario)}
                                                className="flex items-center gap-2 px-4 py-2 rounded bg-white border border-slate-300 hover:bg-slate-50 text-slate-700 shadow-sm"
                                            >
                                                <RefreshCcw size={18} /> Reset
                                            </button>
                                        </div>
                                    </div>

                                    <div className="relative flex h-64 border-4 border-slate-800 rounded-xl bg-white shadow-inner overflow-hidden mb-6">
                                        {renderCrossingMolecules()}
                                        <div className="flex-1 relative border-r-2 border-dashed border-slate-400 bg-blue-50/30">
                                            <div className="absolute top-2 left-2 font-bold text-slate-400">Compartiment 1</div>
                                            <div className="absolute bottom-2 left-2 text-xs font-semibold bg-white/80 px-2 py-1 rounded shadow-sm">
                                                Pression : {counts.c1 > counts.c2 ? 'ÉLEVÉE' : counts.c1 < counts.c2 ? 'FAIBLE' : 'ÉGALE'}
                                            </div>
                                            {renderMolecules(counts.c1, scenario === 'o2' ? 'O2' : 'CO2')}
                                        </div>
                                        <div className="absolute left-1/2 top-0 bottom-0 w-1 -ml-0.5 z-10 flex flex-col justify-center items-center">
                                            <span className="bg-slate-800 text-white text-[10px] px-1 py-4 rounded-full writing-vertical-lr opacity-50">Membrane</span>
                                        </div>
                                        <div className="flex-1 relative bg-red-50/30">
                                            <div className="absolute top-2 right-2 font-bold text-slate-400">Compartiment 2</div>
                                            <div className="absolute bottom-2 right-2 text-xs font-semibold bg-white/80 px-2 py-1 rounded shadow-sm">
                                                Pression : {counts.c2 > counts.c1 ? 'ÉLEVÉE' : counts.c2 < counts.c1 ? 'FAIBLE' : 'ÉGALE'}
                                            </div>
                                            {renderMolecules(counts.c2, scenario === 'o2' ? 'O2' : 'CO2')}
                                        </div>
                                        {step !== 'equilibrium' && step !== 'diffusing' && (
                                            <div className="absolute inset-0 flex items-center justify-center pointer-events-none z-20">
                                                <div className={`bg-white/90 px-4 py-2 rounded-full shadow-lg flex items-center gap-2 text-sm font-bold animate-bounce ${scenario === 'o2' ? 'text-red-600' : 'text-blue-600'}`}>
                                                    {scenario === 'o2' ? (
                                                        <React.Fragment>Sens de Diffusion <ArrowRight size={20}/></React.Fragment>
                                                    ) : (
                                                        <React.Fragment><ArrowLeft size={20}/> Sens de Diffusion</React.Fragment>
                                                    )}
                                                </div>
                                            </div>
                                        )}
                                    </div>

                                    <div className="bg-slate-100 p-4 rounded-lg text-sm md:text-base">
                                        <h4 className="font-bold mb-2 flex items-center gap-2">
                                            <Info size={18} /> Analyse :
                                        </h4>
                                        {step === 'equilibrium' ? (
                                            <p className="text-green-700 font-medium">
                                                Équilibre atteint ! Les pressions partielles sont égales (5 molécules partout).
                                            </p>
                                        ) : (
                                            <p>
                                                Le gaz diffuse toujours de la zone de haute concentration vers la zone de basse concentration.
                                            </p>
                                        )}
                                    </div>
                                </div>
                            )}

                            {/* --- QUIZ SECTION --- */}
                            {scenario === 'quiz' && (
                                <div className="animate-fadeIn">
                                    {!showResult ? (
                                        <div className="max-w-2xl mx-auto">
                                            <div className="flex justify-between items-center mb-4">
                                                <span className="text-sm font-bold text-slate-500">Question {currentQIndex + 1} / {quizQuestions.length}</span>
                                                <span className="text-sm font-bold text-amber-600">Score: {score}</span>
                                            </div>
                                            
                                            <div className="bg-slate-50 p-6 rounded-xl border border-slate-200 mb-6">
                                                <h3 className="text-xl font-bold mb-6 text-slate-800">{quizQuestions[currentQIndex].question}</h3>
                                                
                                                <div className="space-y-3">
                                                    {quizQuestions[currentQIndex].options.map((option, index) => {
                                                        let btnClass = "w-full text-left p-4 rounded-lg border-2 transition-all ";
                                                        
                                                        if (!isAnswered) {
                                                            btnClass += "border-slate-200 hover:border-indigo-300 hover:bg-indigo-50 cursor-pointer";
                                                        } else {
                                                            // Si répondu, on colore
                                                            if (index === quizQuestions[currentQIndex].correctIndex) {
                                                                btnClass += "border-green-500 bg-green-50 text-green-800";
                                                            } else if (index === selectedOption) {
                                                                btnClass += "border-red-500 bg-red-50 text-red-800";
                                                            } else {
                                                                btnClass += "border-slate-100 text-slate-400 opacity-50";
                                                            }
                                                        }

                                                        return (
                                                            <button 
                                                                key={index}
                                                                onClick={() => handleOptionClick(index)}
                                                                disabled={isAnswered}
                                                                className={btnClass}
                                                            >
                                                                <div className="flex justify-between items-center">
                                                                    <span>{option}</span>
                                                                    {isAnswered && index === quizQuestions[currentQIndex].correctIndex && <CheckCircle size={20} className="text-green-600"/>}
                                                                    {isAnswered && index === selectedOption && index !== quizQuestions[currentQIndex].correctIndex && <XCircle size={20} className="text-red-600"/>}
                                                                </div>
                                                            </button>
                                                        );
                                                    })}
                                                </div>
                                            </div>

                                            {isAnswered && (
                                                <div className="animate-fadeIn">
                                                    <div className="bg-blue-50 p-4 rounded-lg mb-4 text-blue-800 text-sm border border-blue-200">
                                                        <strong>Explication :</strong> {quizQuestions[currentQIndex].explanation}
                                                    </div>
                                                    <button 
                                                        onClick={nextQuestion}
                                                        className="w-full py-3 bg-indigo-600 text-white rounded-lg font-bold hover:bg-indigo-700 transition-colors flex justify-center items-center gap-2"
                                                    >
                                                        {currentQIndex < quizQuestions.length - 1 ? "Question Suivante" : "Voir les Résultats"} <ArrowRight size={20}/>
                                                    </button>
                                                </div>
                                            )}
                                        </div>
                                    ) : (
                                        <div className="text-center py-10 animate-fadeIn">
                                            <div className="inline-block p-6 rounded-full bg-amber-100 mb-4">
                                                <CheckCircle size={64} className="text-amber-600" />
                                            </div>
                                            <h2 className="text-3xl font-bold text-slate-800 mb-2">Quiz Terminé !</h2>
                                            <p className="text-slate-600 mb-6">Votre score final est de :</p>
                                            
                                            <div className="text-5xl font-black text-indigo-600 mb-8">
                                                {score} / {quizQuestions.length}
                                            </div>

                                            <p className="text-lg text-slate-700 mb-8 max-w-md mx-auto">
                                                {score === 5 ? "Excellent ! Vous maîtrisez parfaitement la loi de diffusion." : 
                                                 score >= 3 ? "Bien joué ! Vous avez compris l'essentiel." : 
                                                 "Continuez vos efforts, n'hésitez pas à revoir les simulations !"}
                                            </p>

                                            <button 
                                                onClick={restartQuiz}
                                                className="px-8 py-3 bg-indigo-600 text-white rounded-full font-bold hover:bg-indigo-700 transition-transform transform hover:scale-105 flex items-center gap-2 mx-auto"
                                            >
                                                <RefreshCcw size={20}/> Recommencer le Quiz
                                            </button>
                                        </div>
                                    )}
                                </div>
                            )}

                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>